#!/usr/bin/python# -*- coding: utf-8 -*-# __author__ = 'prm14'import osimport utilsdef clean_text(in_file, out_file):	with open(in_file, 'r') as f1:		text = f1.read()		text = utils.get_readable_txt(text)		# text = utils.get_word_txt(text)		with open(out_file, 'w') as f2:			f2.write(text)def batch_extract_text(in_dir, out_dir):	in_dir = 'data'	out_dir = 'text'	utils.delete_then_create_dir(out_dir)	file_list = [file_name for file_name in os.listdir(in_dir) if file_name.endswith('.pdf')]	print('开始提取pdf文本内容：')	for i, file_name in enumerate(file_list):		print('{%d/%d}' % (i, len(file_list)))		in_file = os.path.join(in_dir, file_name)		out_file = os.path.join(out_dir, file_name[:-4] + '.txt')		os.system('pdf2txt.py -o "%s" -t text "%s"' % (out_file, in_file))	print('提取完毕。')def batch_clean_text(in_dir, out_dir):	utils.delete_then_create_dir(out_dir)	file_list = [file_name for file_name in os.listdir(in_dir)]	for file_name in file_list:		in_file = os.path.join(in_dir, file_name)		out_file = os.path.join(out_dir, file_name)		clean_text(in_file, out_file)if __name__ == '__main__':	in_dir = 'data'	out_dir = 'text'	clean_dir = 'clean'	# batch_extract_text(in_dir, out_dir)	batch_clean_text(out_dir, clean_dir)